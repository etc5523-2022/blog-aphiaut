names_to = earning)
}
pivot_test(median_earnings_2018_final)
pivot_test <- function(x){
pivot_longer(data = x,
cols = 2:4,
names_to = "earning")
}
pivot_test(median_earnings_2018_final)
y <- c("median_earnings_2017_final", "median_earnings_2016_final")
pivot_test(y)
y <- median_earnings_2017_final, median_earnings_2016_final
y <- median_earnings_2017_final, median_earnings_2016_final
pivot_test(median_earnings_2013_final)
pivot_test(median_earnings_2014_final)
pivot_test(median_earnings_2015_final)
pivot_test(median_earnings_2016_final)
pivot_test(median_earnings_2017_final)
View(median_earnings_2018_final)
View(median_earnings_2017_final)
View(median_earnings_2015_final)
View(median_earnings_2013_final)
View(median_earnings_2013_final)
pivot_test <- function(x){
pivot_longer(data = x,
cols = 2:4,
names_to = "earning")
}
pivot_test(median_earnings_2013_final)
pivot_test(median_earnings_2014_final)
pivot_test(median_earnings_2015_final)
pivot_test(median_earnings_2016_final)
pivot_test(median_earnings_2017_final)
pivot_test(median_earnings_2018_final)
View(median_earnings_2017_final)
View(median_earnings_2013_final)
pivot_test <- function(x){
pivot_longer(data = x,
cols = 2:4,
names_to = "earning")
}
pivot_test(median_earnings_2013_final)
pivot_test <- function(x){
x <- pivot_longer(data = x,
cols = 2:4,
names_to = "earning")
}
pivot_test(median_earnings_2013_final)
pivot_test(median_earnings_2014_final)
pivot_test(median_earnings_2015_final)
pivot_test(median_earnings_2016_final)
pivot_test(median_earnings_2017_final)
pivot_test(median_earnings_2018_final)
pivot_test(median_earnings_2013_final)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(forcats)
library(RColorBrewer)
library(treemap)
library(d3treeR)
library(plotly)
library(readxl)
university <- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-10-16/recent-grads.csv")
library(dplyr)
fulltime <- university %>%
mutate(women_percent = ShareWomen*100) %>%
group_by(	Major_category) %>%
summarise(avg_median = mean(Median, na.rm = TRUE),
women_percent = mean(women_percent, na.rm = TRUE)) %>%
ggplot(aes(x = women_percent, y = avg_median)) +
geom_point(aes(colour = Major_category), size = 4) +
geom_point(colour = "grey90", size = 1.5) +
ylab("Average Median Income") +
xlab("Percentage of Women")+
ggtitle("Average Median Income vs Percentage of Women")+
theme(legend.position="bottom",
legend.text = element_text(size = 4)) +
labs(color = "Major Category")
fulltime
median_earnings_2013_final <- read_excel("data/median-earnings-2013-final.xlsx",
range = "A8:Q8", col_names = FALSE)
colnames(median_earnings_2013_final) = c("category", "x2", "x3","x4", "x5", "x6","x7","x8","x9", "total_median_income","x11", "men_median_income", "x13", "women_median_income")
median_earnings_2013_final <- median_earnings_2013_final %>%
select(category, total_median_income, men_median_income, women_median_income)
median_earnings_2014_final <- read_excel("data/median-earnings-2014-final.xlsx",
range = "A8:Q8", col_names = FALSE)
colnames(median_earnings_2014_final) = c("category", "x2", "x3","x4", "x5", "x6","x7","x8","x9", "total_median_income","x11", "men_median_income", "x13", "women_median_income")
median_earnings_2014_final <- median_earnings_2014_final %>%
select(category, total_median_income, men_median_income, women_median_income)
median_earnings_2015_final <- read_excel("data/median-earnings-2015-final.xlsx",
range = "A8:Q8", col_names = FALSE)
colnames(median_earnings_2015_final) = c("category", "x2", "x3","x4", "x5", "x6","x7","x8","x9", "total_median_income","x11", "men_median_income", "x13", "women_median_income")
median_earnings_2015_final <- median_earnings_2015_final %>%
select(category, total_median_income, men_median_income, women_median_income)
median_earnings_2016_final <- read_excel("data/median-earnings-2016-final.xlsx",
range = "A8:Q8", col_names = FALSE)
colnames(median_earnings_2016_final) = c("category", "x2", "x3","x4", "x5", "x6","x7","x8","x9", "total_median_income","x11", "men_median_income", "x13", "women_median_income")
median_earnings_2016_final <- median_earnings_2016_final %>%
select(category, total_median_income, men_median_income, women_median_income)
median_earnings_2017_final <- read_excel("data/median-earnings-2017-final.xlsx",
range = "A8:Q8", col_names = FALSE)
colnames(median_earnings_2017_final) = c("category", "x2", "x3","x4", "x5", "x6","x7","x8","x9", "total_median_income","x11", "men_median_income", "x13", "women_median_income")
median_earnings_2017_final <- median_earnings_2017_final %>%
select(category, total_median_income, men_median_income, women_median_income)
median_earnings_2018_final <- read_excel("data/median-earnings-2018-final.xlsx",
range = "A8:Q8", col_names = FALSE)
colnames(median_earnings_2018_final) = c("category", "x2", "x3","x4", "x5", "x6","x7","x8","x9", "total_median_income","x11", "men_median_income", "x13", "women_median_income")
median_earnings_2018_final <- median_earnings_2018_final %>%
select(category, total_median_income, men_median_income, women_median_income)
pivot_test <- function(x){
x <- pivot_longer(data = x,
cols = 2:4,
names_to = "earning")
}
pivot_test(median_earnings_2013_final)
pivot_test(median_earnings_2014_final)
pivot_test(median_earnings_2015_final)
pivot_test(median_earnings_2016_final)
pivot_test(median_earnings_2017_final)
pivot_test(median_earnings_2018_final)
pivot_longer(data = median_earnings_2013_final,
cols = 2:4,
names_to = "earning")
test1 <- pivot_longer(data = median_earnings_2013_final,
cols = 2:4,
names_to = "earning")
View(test1)
median_earnings_2013_final <- pivot_longer(data = median_earnings_2013_final,
cols = 2:4,
names_to = "earning")
median_earnings_2013_final <- pivot_longer(data = median_earnings_2013_final,
cols = 2:4,
names_to = "earning")
median_earnings_2014_final <- pivot_longer(data = median_earnings_2014_final,
cols = 2:4,
names_to = "earning")
median_earnings_2015_final <- pivot_longer(data = median_earnings_2015_final,
cols = 2:4,
names_to = "earning")
median_earnings_2016_final <- pivot_longer(data = median_earnings_2016_final,
cols = 2:4,
names_to = "earning")
median_earnings_2017_final <- pivot_longer(data = median_earnings_2017_final,
cols = 2:4,
names_to = "earning")
median_earnings_2018_final <- pivot_longer(data = median_earnings_2018_final,
cols = 2:4,
names_to = "earning")
View(median_earnings_2015_final)
View(median_earnings_2015_final)
View(median_earnings_2016_final)
View(median_earnings_2017_final)
View(median_earnings_2018_final)
View(median_earnings_2015_final)
right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category")) %>%
select(category, earnig.x, value.x, value.y) %>%
rename("earning" = earnig.x,
"2013" = value.x, "2014" = value.y)
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat <- dat %>%
select(category, earnig.x, value.x, value.y) %>%
rename("earning" = earnig.x,
"2013" = value.x, "2014" = value.y)
dat
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat <- dat %>%
select(category, earning.x, value.x, value.y) %>%
rename("earning" = earnig.x,
"2013" = value.x, "2014" = value.y)
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat <- dat %>%
select(category, "earning.x", value.x, value.y) %>%
rename("earning" = earnig.x,
"2013" = value.x, "2014" = value.y)
dat
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat <- dat %>%
select(category, earning.y, value.x, value.y) %>%
rename("earning" = earnig.x,
"2013" = value.x, "2014" = value.y)
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat
dat <- dat %>%
select(category, earning.y, value.x, value.y) %>%
rename("earning" = earnig.y,
"2013" = value.x, "2014" = value.y)
dat
dat <- dat %>%
select(category, earning.y, value.x, value.y) %>%
rename("earning" = "earnig.y",
"2013" = value.x, "2014" = value.y)
dat <- right_join(median_earnings_2013_final, median_earnings_2014_final, by= ("category"))
dat <- dat %>%
select(category, earning.y, value.x, value.y) %>%
rename("earnig.y" = "earnig",
"2013" = value.x, "2014" = value.y)
View(test1)
View(test1)
View(dat)
View(median_earnings_2017_final)
View(median_earnings_2016_final)
View(median_earnings_2014_final)
median <- read_csv("data/median.csv")
median <- read_csv("data/median_year.csv")
median
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning))
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning))
line
View(median_earnings_2017_final)
median <- read_csv("data/median_year.csv")
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning))
line
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning)) +
geom_point()
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning)) +
geom_point()
line
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning)) +
geom_point() +
ggtitle("Median of Income by Sex")
line
View(university)
top3_women <- university %>%
arrange(Women) %>%
head()
top3_women
top3_women <- university %>%
arrange(decs(Women)) %>%
head()
top3_women <- university %>%
arrange(-Women) %>%
head()
top3_women
top3_women <- university %>%
arrange(-ShareWomen) %>%
head()
top3_women
top3_women <- university %>%
filter(ShareWomen > 90) %>%
arrange(-ShareWomen) %>%
head()
top3_women
university
top3_women <- university %>%
filter(ShareWomen >= 90) %>%
arrange(-ShareWomen) %>%
head()
top3_women
top3_women <- university %>%
filter(ShareWomen < 90) %>%
arrange(-ShareWomen) %>%
head()
top3_women
top3_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head()
top3_women
top_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head()
top_women
low_women <- university %>%
filter(ShareWomen < 0.1) %>%
arrange(-ShareWomen) %>%
head()
low_women
top_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head()
top_women
low_women <- university %>%
filter(ShareWomen < 0.1) %>%
arrange(-ShareWomen) %>%
head()
low_women
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(forcats)
library(RColorBrewer)
library(treemap)
library(d3treeR)
library(plotly)
library(readxl)
library(dplyr)
university <- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-10-16/recent-grads.csv")
fulltime <- university %>%
mutate(women_percent = ShareWomen*100) %>%
group_by(	Major_category) %>%
summarise(avg_median = mean(Median, na.rm = TRUE),
women_percent = mean(women_percent, na.rm = TRUE)) %>%
ggplot(aes(x = women_percent, y = avg_median)) +
geom_point(aes(colour = Major_category), size = 4) +
geom_point(colour = "grey90", size = 1.5) +
ylab("Average Median Income") +
xlab("Percentage of Women")+
ggtitle("Average Median Income vs Percentage of Women")+
theme(legend.position="bottom",
legend.text = element_text(size = 4)) +
labs(color = "Major Category")
ggplotly(fulltime)
knitr::opts_chunk$set(echo = TRUE)
median_earnings_2013_final <- read_excel("data/median-earnings-2013-final.xlsx",
range = "A8:Q8", col_names = FALSE)
median <- read_csv("data/median_year.csv")
median <- read_csv("data/Median_income.csv")
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(forcats)
library(RColorBrewer)
library(treemap)
library(d3treeR)
library(plotly)
library(readxl)
library(dplyr)
median <- read_csv("data/Median_income.csv")
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = earning)) +
geom_point() +
ggtitle("Median of Income by Sex")
line
View(median)
line <- median %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median)) +
geom_point() +
ggtitle("Median of Income by Sex")
line
top_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head()
university <- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-10-16/recent-grads.csv")
top_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head()
top_women
low_women <- university %>%
filter(ShareWomen < 0.1) %>%
arrange(-ShareWomen) %>%
head()
low_women
top_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head() %>%
kable()
top_women
low_women <- university %>%
filter(ShareWomen < 0.1) %>%
arrange(-ShareWomen) %>%
head()%>%
kable()
low_women
top_women <- university %>%
filter(ShareWomen > 0.9) %>%
arrange(-ShareWomen) %>%
head() %>%
select(Major, ShareWomen, Median) %>%
kable()
top_women
low_women <- university %>%
filter(ShareWomen < 0.1) %>%
arrange(-ShareWomen) %>%
head()%>%
select(Major, ShareWomen, Median) %>%
kable()
low_women
library(readxl)
p53ar <- read_excel("posts/welcome/data/p53ar.xlsx",
range = "A10:G83", col_names = FALSE)
p53ar <- read_excel("posts/welcome/data/p53ar.xlsx",
range = "A10:G83", col_names = FALSE)
p53ar <- read_excel("data/p53ar.xlsx",
range = "A10:G83", col_names = FALSE)
colnames(p53ar) = c("year", "num_wage_male", "median_current_male","median_2020_male", "num_wage_female", "median_current_female","median_2020_female" )
View(p53ar)
median_2020 <- pivot_longer(data = p53ar,
cols = c("median_2020_male", "median_2020_female"),
names_to = "median_2020")
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(forcats)
library(RColorBrewer)
library(treemap)
library(d3treeR)
library(plotly)
library(readxl)
library(dplyr)
median_2020 <- pivot_longer(data = p53ar,
cols = c("median_2020_male", "median_2020_female"),
names_to = "median_2020")
View(median_2020)
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex")
ggplotly(line)
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex")
ggplotly(line_1)
line_1
View(median_2020)
p53ar <- read_excel("data/p53ar.xlsx",
range = "A10:G83", col_names = FALSE)
colnames(p53ar) = c("year", "num_wage_male", "median_current_male","median_2020_male", "num_wage_female", "median_current_female","median_2020_female" )
median_2020 <- pivot_longer(data = p53ar,
cols = c("median_2020_male", "median_2020_female"),
names_to = "median_2020") %>%
select(year, median_2020, value)
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") #+
#scale_x_continuous(breaks = seq(1, 100, by = 20))
line_1
ggplotly(line_1)
View(p53ar)
View(median_2020)
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") +
scale_x_continuous(breaks = seq(1947, 2020, by = 5))
line_1
as.numeric(median_2020$year)
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") +
scale_x_continuous(breaks = seq(1947, 2020, by = 5))
line_1
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") +
scale_y_continuous(breaks = seq(10000, 51000, by = 5000))
line_1
as.numeric(median_2020)
median_2020 <- as.numeric(median_2020)
median_2020 <- as.numeric(median_2020$year)
median_2020 <- as.numeric(median_2020$year) %>%
as.numeric(median_2020$value)
median_2020
median_2020
p53ar <- read_excel("data/p53ar.xlsx",
range = "A10:G83", col_names = FALSE)
colnames(p53ar) = c("year", "num_wage_male", "median_current_male","median_2020_male", "num_wage_female", "median_current_female","median_2020_female" )
median_2020 <- pivot_longer(data = p53ar,
cols = c("median_2020_male", "median_2020_female"),
names_to = "median_2020") %>%
select(year, median_2020, value)
median_2020$year <- as.numeric(median_2020$year)
median_2020$value <- as.numeric(median_2020$value)
View(median_2020)
line_1 <- median_2020 %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") +
#scale_x_discrete(breaks = seq(10000, 51000, by = 5000))
scale_y_continuous(breaks = seq(10000, 51000, by = 5000))
line_1
ggplotly(line_1)
line_1 <- median_2020 %>%
filter(year > 1980)
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") +
#scale_x_discrete(breaks = seq(10000, 51000, by = 5000))
scale_y_continuous(breaks = seq(10000, 51000, by = 5000))
line_1 <- median_2020 %>%
filter(year > 1980) %>%
ggplot(aes(x = year, y = value))+
geom_line(aes(color = median_2020)) +
geom_point() +
ggtitle("Median of Income by Sex") +
#scale_x_discrete(breaks = seq(10000, 51000, by = 5000))
scale_y_continuous(breaks = seq(10000, 51000, by = 5000))
line_1
ggplotly(line_1)
